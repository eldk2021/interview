## 목차

#### [운영체제](#💡-운영체제)
#### [프로세스](#💡-프로세스)
#### [스레드](#스레드-thread란)
#### [멀티프로세스와 멀테스레드](#멀티-프로세스와-멀티-쓰레드의-특징에-대해-설명해주세요.)
#### [PCB](#PCB-process-control-block)
#### [문맥교환](#context-switching-문맥교환이란?)
#### [상태주기](#프로세스의-상태-주기)

---

## 운영체제

#### 💡 운영체제

> - <mark>운영체제가 뭔가요?</mark>

시스템의 자원과 동작을 관리하는 소프트웨어(프로세스, 저장장치, 네트워킹, 사용자, 하드웨어 관리)

<br>

> - <mark>운영체제의 종류는?</mark>

- Windows
- Unix, Linux(Ubuntu)
- macOs
- IOS, android

----

#### 💡 프로세스

> - 프로세스와 스레드의 차이는 무엇인가요?
> - 프로세스와 스레드 차이점
> - 프로세스와 스레드를 비교하여 설명해주실 수 있을까요?

- 프로세스 Process란
    - 운영체제로부터 자원을 할당받는 작업의 단위
    - 실행 중인 프로그램을 말하며, 
    - 프로그램의 실행단위
    - 완벽히 독립적이기 때문에 메모리 영역(Code, Data, Heap, Stack) 을 다른 프로세스와 공유하지 않습니다.
    - 프로세스는 최소 1개의 쓰레드(메인 쓰레드)를 가지고 있습니다
    - pid >0
    - 스레드보다 많은 메모리 공간과 cpu시간을 차지함 = 많은 자원이     필요
    - 컴퓨터에서 실행중인 컴퓨터프로그램
    - 메모리에 로드된 것

- 스레드 Thread란

    - 할당받은 자원을 이용하는 단위
    - 프로세스 내에서 실행되는 흐름의 단위
    - 경량프로세스, 자식프로세스
    - 쓰레드는 프로세스 내에서 Stack만 따로 할당 받고, 그 이외의 메모리 영역(Code, Data, Heap)영역을 공유하기 때문에 다른 쓰레드의 실행 결과를 즉시 확인할 수 있습니다. 
    - 쓰레드는 프로세스 내에 존재하며 프로세스가 할당받은 자원을 이용하여 실행됩니다.
    - pid = 0
    - fork()로 복제, exec()로 덮어쓰기
    - 애플리케이션 하나가 프로세스이고, 이 안에서의 분기 처리가 스레드를 의미합니다.

<br>

- 프로세스 새로 만드는데보다 스레드 새로 만드는게30배?
- 교체하는게 스레드 교체하는게 5배 빠름?

<br>

> - 멀티 프로세스와 멀티 쓰레드의 특징에 대해 설명해주세요.

- 멀티프로세스의 특징
    
    - 멀티 프로세스는 하나의 프로그램을 여러 개의 프로세스로 구성하여 각 프로세스가 하나의 작업을 처리하는 것이다.
    - 장점으로는 하나의 프로세스가 잘못 되어도 프로그램은 작동한다
    - 여러개의 프로세스
    - 한 개가 죽어도 프로그램은 종료 안됨
    - context switching 비용 발생

- 멀티 스레드 특징
    - 멀티 스레드는 프로그램을 여러 개의 스레드로 구성하고 스레드가 작업을 처리하는 것이다.
    - 장점은 시스템 자원 소모 감소, 처리 비용 감소, 스레드간 자원 공유가 있고, 단점은 동기화 이슈와 하나의 스레드의 오류로 전체 프로세스에 문제가발생한다는 것이다.
    - 자원을 공유할 수 있다.


<br>

> - PCB process control block

- 커널 영역에 저장되어 있음.
- 상태 저장
- 상태 값(context) 저장
- context는 CPU가 해당 프로세스를 실행하기 위한 해당 프로세스의 정보들.

 <br>

> - context switching 문맥교환이란?
> - 컨텍스트 스위칭이란 무엇인가요?

- cpu가 프로세스 실행 중 인터럽트 요청으로 다른 프로세스로 교체.
- context를 교체하는 상태.
- context는 해당 프로세스의 정보들
- 멀티프로세스 환경에서
 CPU가 어떤 하나의 프로세스를 실행하고 있는 상태에서 
인터럽트 요청에 의해 다음 우선 순위의 프로세스가 실행되어야 할 때 
기존의 프로세스의 상태 또는 레지스터 값(Context)을 저장하고
 CPU가 다음 프로세스를 수행하도록 새로운 프로세스의 상태 
또는 레지스터 값(Context)을 교체하는 작업을 말합니다.
- 컨텍스트? CPU가 해당 프로세스를 실행하기 위한 해당 프로세스의 정보들.

 <br>

> - 프로세스의 상태 주기??

    new -> ready ->(dispatch) -> running -> exit

                 <-(time out)<-

    생성 준비 실행 종료
    wait, sleep -> (wake up) -> ready
    running -> interrupt, trap, 시스템 콜-> running
    (trap: sw 인터럽트. 권한이 없어서.)
    시스템 콜 : mode bit - 0 : 모니터모드 , 1: 사용자모드
    (I/O 접근은 OS의 특권명령임. 시스템 콜 해서 모니터모드로 해야함)

<img src="/image/process-circle.png" width="450px" height="300px" title="프로세스 주기 한 눈에 보기" alt="프로세스주기"></img><br/>

<br>

> - Critical Section(임계영역)에 대해 설명해주세요.

- 임계 영역이란 프로세스간에 공유자원을 접근하는데 있어 문제가 발생하지 않도록 
한번에 하나의 프로세스만 이용하게끔 보장해줘야 하는 영역을 말합니다.
임계 영역 문제를 해결하기 위해서는 아래의 3가지 조건을 충족해야 합니다.

- 상호 배제(Mutual exclution) - 하나의 프로세스가 임계 영역에 들어가 있다면 다른 프로세스는 들어갈 수 없어야 한다.
- 진행(Progress) - 임계 영역에 들어간 프로세스가 없는 상태에서 들어가려 하는 프로세스가 여러 개라면 어느 것이 들어갈지 결정 해주어야 한다.
- 한정 대기(Bounded waiting) - 다른 프로세스의 기아를 방지하기 위해, 한 번 임계 구역에 들어간 프로세스는 다음 번 임계 영역에 들어갈 때 제한을 두어야 한다.

<br>

> - 데드락에 대해 설명해주세요.

- 서로의 자원을 얻기위해 무한정 기다리는 상태
둘 이상의 프로세스들이 자원을 점유한 상태에서 
서로 다른 프로세스가 점유하고 있는 자원을 요구하며 무한정 기다리는 상황을 말합니다.

- 교착상태 (Deadlock)
두 개 이상의 작업이 서로 상대방의 작업이 끝나기만을 기다리고 있기 때문에 결과적으로 아무것도 완료되지 못하는 상태

<br>



 

> 교착 상태 (Deadlock)과 기아현상(starvation)-cpu스케줄링-와의 차이

- 교착상태는 프로세스가 자원을 얻지 못해 다음 처리를 하지 못하는 상태를 말하고 
- 기아 상태는 프로세스가 원하는 자원을 계속 할당 받지 못하는 상태이다. 

즉 교착 상태는 여러 프로세스가 동일한 자원 점유를 원할 때 발생하고 
기아 상태는 여러 프로세스가 자원을 점유하기 위해 경쟁 할 때 특정 프로세스는 영원히 자원 할당을 받지 못하는 것이다. 

<br>

> - 뮤텍스와 세마포어에 대해서 설명해 보시오.
> - 뮤텍스(Mutex)와 세마포어(Semaphore)의 차이에 대해 설명해주세요.

- 뮤텍스  
공유 자원에 대한 접근을 제어하기 위한 상호 배제 기법 중 하나로 
Lock을 사용해 하나의 프로세스나 스레드를 단독으로 실행하게 합니다.

- 세마포어   
동시에 접근 가능한 스레드의 개수를 지정할 수 있습니다. 
세마포어 값이 1이면 뮤텍스와 동일한 역할을 하며, 값이 2 이상이면 동시에 접근 가능한 스레드 수를 제어합니다.
  - 세마포어의 변수 → 공유자원의 개수를 나타내는 변수
  - 현재 수행중인 프로세스가 아닌 다른 프로세스가 세마포어를 해제할 수 있습니다.
- 하지만 뮤텍스는 락(lock)을 획득한 프로세스가 반드시 그 락을 해제해야 합니다.  
0과 1의 값만 갖는 세마포어 → 이진 세마포어(binary semaphore) (= 뮤텍스)  
도메인 제한이 없는 세마포어(0,1 뿐만아니라 2,3,4 등의 값들 또한 가질 수 있는) → 카운팅 세마포어(counting semaphore)

<br>

> CPU 스케줄링이란 무엇인가요?

os가 cpu자원 할당 순서를 정하는 것.

<br>

> CPU 스케줄링 방법에는 대표적으로 어떤 것들이 있나요?
- 선점형: 라운드로빈. SRT, 다단계큐, 다단계피드백큐
- 비선점형: FCFS, SJF, HRN 우선순위 기한부

<br>

> 선점형 스케줄링과 비선점형 스케줄링의 차이를 설명해주세요

- 선점형은 하나의 프로세스가 다른 프로세스 대신에 CPU를 차지할 수 있음을 말하고,
os가 cpu자원을 뺐어서 다른 프로세스에게 할당 가능
- 비선점형은 하나의 프로세스가 끝나지 않으면 다른 프로세스는 CPU를 사용할 수 없음을 말합니다.

<br>

> - 기아 상태(Starvation)

- 특정 프로세스의 우선 순위가 낮아서 원하는 자원을 계속 할당받지 못하는 상태를 말함.

    => 프로세스 스케줄링에서 나옴.



<br>

----
#### 💡 동기 비동기

> - 동기와 비동기를 비교하여 설명해주실 수 있을까요?

- 동기 `(Synchronous: 동시에 일어나는)`   
  - 동기는 말 그대로 동시에 일어난다는 뜻이다.   
  - 요청과 그 결과가 동시에 일어난다는 약속이다.   
  - 요청과 결과가 동시에 이루어지는 것을 말합니다.  
  - 결과가 주어질 때까지 아무것도 못하고 대기해야 합니다.  
  - 설계가 간단하고 직관적이지만, 결과가 주어질 때까지 아무것도 하지 못하고 대기해야 한다는 단점이 있습니다.    
   
  - `순차적, 직렬적`으로 테스크를 수행  
  - 다필요없고 `줄세우기`.  
  - 바로 요청을 하면 시간이 얼마나 걸리던지 요청한 자리에서 결과가  주어져야 한다.   
  - 순서에 맞춰 진행되는 장점이 있지만,  여러 가지 요청을 동시에 처리할 수 없다.
 
<br>

    - 커피 주문을 받고 나올 때까지 기다리는 것이 동기 방식의 예시라고 할 수 있다.
    - 주문 후에 커피가 나올 때까지 기다려주세요!
    - 서버에 데이터를 요청하고 데이터 응답까지 이후 task 중단.
    - 또는 연탄나르기
    - 또는 서류 계속 기다리기 ㅋㅋ    
    - 립싱크, 싱크로나이즈드 스윔.
    - 결과가 주어질 때 까지 대기. 요청과 결과가 동시에. =>    줄세우기



- 비동기`(Asynchronous: 동시에 일어나지 않는)`
    - 장점 : 요청에 따른 결과가 반환되는 시간 동안 다른 작업을 수행할 수 있습니다.
    - 단점 : 동기식보다 설계가 복잡합니다.   
  - `병렬적`으로 테스크를 수행

  - 비동기는 동시에 일어나지 않는다를 의미한다.   
요청과 결과가 동시에 일어나지 않을 거라는 약속이다.   
하나의 요청에 따른 응답을 즉시 처리하지 않아도, 그 대기 시간동안 또 다른 요청에 대해 처리 가능한 방식이다.   
여러 개의 요청을 동시에 처리할 수 있는 장점이 있지만 동기 방식보다 속도가 떨어질 수도 있다.   


  - 동기보다 복잡하지만, 결과가 주어지는 시간이 걸리더라도 그 시간 동안 다른 작업을 할 수 있으므로 자원을 효율적으로 사용할 수 있다는 장점이 있습니다.
  - 즉시 응답 처리 안해도 그 시간동안 다른 처리 가능

<br>

    - 점원 한명이 커피 주문을 받고 다른 점원이 커피를 건네주는 것이 비동기 방식의 예시다.

<br>

----

💡 블로킹과 넌블로킹의 차이는 무엇인가요?   
💡 사용자 수준의 스레드와 커널 수준의 스레드의 차이는 무엇인가요?   
💡 경쟁 상태란 무엇인가요?   
💡 교착상태란 무엇이며, 교착상태가 발생하기 위해서는 어떤 조건이 있어야 하나요?   
💡 교착상태의 해결법은 무엇인가요?

💡 멀티 쓰레드의 동시성과 병렬성을 설명해주세요.   
💡 멀티 쓰레드 환경에서의 주의사항을 설명해주세요.   
💡 콘보이 현상(convoy effect)이란 무엇이고, 콘보이 현상이 발생될 수 있는 CPU 스케줄러 알고리즘은 무엇인지 설명해주세요.    
💡 프로세스 혹은 스레드의 동기화란 무엇인가요?


----
<br>

###### 참고
[신입 개발자 기술면접 질문 정리 - 운영체제](https://dev-coco.tistory.com/162)